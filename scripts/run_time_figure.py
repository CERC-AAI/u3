import matplotlib.pyplot as plt

N_ENVS = [1, 4, 16, 64]
colors = ['b', 'g', 'r', 'c']
styles = ['-', '--', ':']

# Data for 64x64 resolution
timings_64 = {
    1: [49.407395706297265, 28.50737415971064, 32.70718523715272, 37.349873063937586],
    4: [34.542667314315324, 73.70261542292926, 107.50114899704825, 101.70812680482504],
    16: [39.446914217456374, 71.71263134821943, 188.8255529895367, 288.2646725996601],
    64: [35.62564122992816, 111.22485448705332, 382.1257335090538, 506.50236722730057]
}

# Data for 128x128 resolution
timings_128 = {
    1: [49.44558607413039, 35.66338786811659, 31.07646650306551, 28.345987234798234],
    4: [29.92342530014669, 61.82871635478767, 62.70871980303503, 59.149797392429015],
    16: [23.121891773905457, 86.45622916660761, 213.80432122701225, 283.38770547803915],
    64: [39.115246295814984, 118.392103926281, 315.9834885355991, 471.32868090595946]
}

# Data for 256x256 resolution
timings_256 = {
    1: [15.353623148510682, 16.14009960979019, 15.776380708457102, 15.83705468019252],
    4: [27.58790524445296, 47.231619987110214, 57.52658088480482, 52.12351268799018],
    16: [19.78070289410701, 56.32490264548723, 153.24033672707853, 192.86134536127204],
    64: [19.816471387306642, 59.80289075545902, 278.04935731020333, 425.8890067879391]
}

# Plotting
plt.figure(figsize=(10, 6))

for idx, resolution_data in enumerate([timings_64, timings_128, timings_256]):
    for i, (cpus, timings) in enumerate(resolution_data.items()):
        plt.plot(N_ENVS, timings, linestyle=styles[idx], color=colors[i], label=f"CPUS {cpus}" if idx == 0 else None)

plt.title('Speed vs # Unity Instances')
plt.xlabel('# Unity Instances')
plt.ylabel('Speed')
plt.legend()
plt.grid(True)
plt.tight_layout()

# Save the plot as a PDF
plt.savefig('timings_plot.pdf')

plt.show()
